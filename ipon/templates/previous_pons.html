<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>Previous Pons</title>
    <link rel="icon" type="image/png" href="{% static 'assets/icon.png' %}">
    <link rel="stylesheet" href="{% static 'mained.css' %}">
</head>

<nav class="back-main"> 
    <div class="back-title" >Previous Pons</div> 
</nav>

<body>
    {% comment %} <h1>Published Rides</h1> {% endcomment %}
    {% comment %} Tengo que hacer las tarjetas para esta sección :'D {% endcomment %}
    <div class="cards-container">

            {% if published_pons %}
                {% for ride in published_pons %}
                <div id="rides-container" class="pon-card">
                    <div class="ride-card">
                        <div style="display: flex; justify-content: space-between;">
                        <h4>From / to</h4><h4>Pon # {{ ride.Ride_id }}</h4>
                        </div>
                        <hr><br>
                        <p><b>Driver:</b> {{ ride.Driver.Username }}</p>  <!-- Ensure this matches your User model field -->
                        <p><b>From:</b> {{ ride.Start_location.name }}</p>  <!-- Accessing location name -->
                        <p><b>To:</b> {{ ride.End_location.name }}</p>  <!-- Accessing location name -->
                        <p><b>End Date:</b> {{ ride.Date_End }}</p>

                        <p><b>Rate:</b> N/A</p>
                        <br>

                        {% comment %} Traer los elementos del history, añadir un campo de "Evaluado"
                        para desplegar el botón de "Evaluate", si ya se evaluó, quitar submit rate. Si el valor es 0 (valor default) se despliega "N/A"{% endcomment %}
                        {% comment %} Al darle click en evaluar, ha de salir un modal con el rate y un comentario, el rate es obligatorio. El botón dirá "Submit Rate" {% endcomment %}
                        <button id="route-btn" class="brutalist-card__button brutalist-card__button--mark" style="font-size: 2vh;">Evaluate</button>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p>No published rides available.</p>
            {% endif %}
    
    </div>

    <nav class="back-main"> 
        <div class="back-title"><a href="{% url 'main' %}"><img src="{% static 'assets/iconos/back.png' %}">Back</a></div>
    </nav>
</body>
</html>